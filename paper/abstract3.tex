\abstract{
State-Machine Replication (SMR) is a basic building block of reliable
distributed systems. Improving SMR algorithms used by cloud-computing providers
can have a big impact on the reliability of the many computing services they
support. However, devising a new practical SMR algorithm is hard, often
justifying a publication in a top conference.

The problem is that SMR algorithms are not modular. Thus all the analysis,
proofs, and tests need to be done again from scratch when devising a new
algorithm. A modular approach allowing the reuse of existing techniques is
especially important because of the many different situations that a practical
SMR algorithm must face.

We present a framework that enables devising and composing modular SMR
algorithms. Crucially, with our framework, an algorithm is proved composable
once and for all in isolation. Our composition theorem, mechanically proved
with Isabelle/HOL, guarantees that the composition of any number of composable
algorithms is a correct SMR algorithm.

The key novelty of our framework is its practical applicability: we show that
a large class of SMR algorithms can be expressed in our framework by proposing
two specifications capturing the essence of modular SMR algorithms based
on Generalized Consensus and using quorum systems for synchronization. We
demonstrate that concrete algorithms can easily be obtained by refinement from
our abstract specifications, as evidenced by TLA+ specifications ready to be
checked by the TLC model checker.
}
